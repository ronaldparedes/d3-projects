{"version":3,"sources":["webpack:///./node_modules/topojson-client/src/identity.js","webpack:///./node_modules/topojson-client/src/transform.js","webpack:///./node_modules/topojson-client/src/feature.js","webpack:///./node_modules/topojson-client/src/reverse.js","webpack:///./src/components/mapViz.js","webpack:///./src/pages/map.js"],"names":["x","transform","identity","x0","y0","kx","scale","ky","dx","translate","dy","input","i","j","n","length","output","Array","topology","o","id","bbox","properties","geometry","type","transformPoint","arcs","arc","points","pop","a","k","push","t","array","reverse","point","p","line","ring","polygon","map","coordinates","geometries","mapViz","async","usTopo","d3","datasetCovid","stateAbr","Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","Ohio","Oklahoma","Oregon","Pennsylvania","Tennessee","Texas","Utah","Vermont","Virginia","Washington","Wisconsin","Wyoming","stateNameAccessor","d","name","stateCovidValsAccessor","stateIndex","forEach","state","index","stateIndexAccessor","formatInt","dateParser","dateFormat","dimensions","width","window","innerWidth","height","margin","top","right","bottom","left","boundedWidth","boundedHeight","wrapper","append","attr","style","bounds","tooltipXScale","domain","range","tooltipYScale","states","selectAll","data","objects","features","enter","on","event","xPos","yPos","centroid","this","stateName","text","covidDate","date","stateCovidVals","html","positiveCasesViral","deathConfirmed","positiveIncrease","deathIncrease","tooltipHeight","tooltip","node","getBoundingClientRect","tooltipWidth","scaledXPos","scaledYPos","vbHeight","addEventListener","StyledContainer","styled","div","StyledTooltip","StyledHeading","h1","StyledInfo","StyledCredit","Map","useEffect","href","marginTop","className"],"mappings":"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","file":"component---src-pages-map-js-9aa8c640144ffd3fcdf0.js","sourcesContent":["export default function (x) {\n  return x;\n}","import identity from \"./identity.js\";\nexport default function (transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function (input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2,\n        n = input.length,\n        output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n\n    while (j < n) output[j] = input[j], ++j;\n\n    return output;\n  };\n}","import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\nexport default function (topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\" ? {\n    type: \"FeatureCollection\",\n    features: o.geometries.map(function (o) {\n      return feature(topology, o);\n    })\n  } : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {\n    type: \"Feature\",\n    properties: properties,\n    geometry: geometry\n  } : bbox == null ? {\n    type: \"Feature\",\n    id: id,\n    properties: properties,\n    geometry: geometry\n  } : {\n    type: \"Feature\",\n    id: id,\n    bbox: bbox,\n    properties: properties,\n    geometry: geometry\n  };\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n\n\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type,\n        coordinates;\n\n    switch (type) {\n      case \"GeometryCollection\":\n        return {\n          type: type,\n          geometries: o.geometries.map(geometry)\n        };\n\n      case \"Point\":\n        coordinates = point(o.coordinates);\n        break;\n\n      case \"MultiPoint\":\n        coordinates = o.coordinates.map(point);\n        break;\n\n      case \"LineString\":\n        coordinates = line(o.arcs);\n        break;\n\n      case \"MultiLineString\":\n        coordinates = o.arcs.map(line);\n        break;\n\n      case \"Polygon\":\n        coordinates = polygon(o.arcs);\n        break;\n\n      case \"MultiPolygon\":\n        coordinates = o.arcs.map(polygon);\n        break;\n\n      default:\n        return null;\n    }\n\n    return {\n      type: type,\n      coordinates: coordinates\n    };\n  }\n\n  return geometry(o);\n}","export default function (array, n) {\n  var t,\n      j = array.length,\n      i = j - n;\n\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}","import * as d3 from \"d3\"\nimport * as topojson from \"topojson-client\"\n\nasync function mapViz() {\n  // 1. Access Data\n  const usTopo = await d3.json(\"/states-albers-10m.json\")\n  const datasetCovid = await d3.json(\n    \"https://api.covidtracking.com/v1/states/current.json\"\n  )\n  const stateAbr = {\n    Alabama: \"AL\",\n    Alaska: \"AK\",\n    Arizona: \"AZ\",\n    Arkansas: \"AR\",\n    California: \"CA\",\n    Colorado: \"CO\",\n    Connecticut: \"CT\",\n    Delaware: \"DE\",\n    Florida: \"FL\",\n    Georgia: \"GA\",\n    Hawaii: \"HI\",\n    Idaho: \"ID\",\n    Illinois: \"IL\",\n    Indiana: \"IN\",\n    Iowa: \"IA\",\n    Kansas: \"KS\",\n    Kentucky: \"KY\",\n    Louisiana: \"LA\",\n    Maine: \"ME\",\n    Maryland: \"MD\",\n    Massachusetts: \"MA\",\n    Michigan: \"MI\",\n    Minnesota: \"MN\",\n    Mississippi: \"MS\",\n    Missouri: \"MO\",\n    Montana: \"MT\",\n    Nebraska: \"NE\",\n    Nevada: \"NV\",\n    \"New Hampshire\": \"NH\",\n    \"New Jersey\": \"NJ\",\n    \"New Mexico\": \"NM\",\n    \"New York\": \"NY\",\n    \"North Carolina\": \"NC\",\n    \"North Dakota\": \"ND\",\n    Ohio: \"OH\",\n    Oklahoma: \"OK\",\n    Oregon: \"OR\",\n    Pennsylvania: \"PA\",\n    \"Rhode Island\": \"RI\",\n    \"South Carolina\": \"SC\",\n    \"South Dakota\": \"SD\",\n    Tennessee: \"TN\",\n    Texas: \"TX\",\n    Utah: \"UT\",\n    Vermont: \"VT\",\n    Virginia: \"VA\",\n    Washington: \"WA\",\n    \"West Virginia\": \"WV\",\n    Wisconsin: \"WI\",\n    Wyoming: \"WY\",\n    \"District of Columbia\": \"DC\",\n  }\n\n  const stateNameAccessor = d => d.properties.name\n  const stateIndexAccessor = d => {\n    let stateIndex = null\n    datasetCovid.forEach((state, index) => {\n      if (state.state === stateAbr[d]) {\n        stateIndex = index\n        return\n      }\n    })\n    return stateIndex\n  }\n  const stateCovidValsAccessor = d =>\n    datasetCovid[stateIndexAccessor(stateNameAccessor(d))]\n\n  const formatInt = d3.format(\",\")\n  const dateParser = d3.timeParse(\"%Y%m%d\")\n  const dateFormat = d3.timeFormat(\"%b %e, %Y\")\n\n  // 2. Create Chart Dimensions\n  const dimensions = {\n    width: window.innerWidth * 0.9,\n    height: window.innerWidth * 0.7,\n    margin: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n    },\n  }\n  dimensions.boundedWidth =\n    dimensions.width - dimensions.margin.left - dimensions.margin.right\n  dimensions.boundedHeight =\n    dimensions.height - dimensions.margin.top - dimensions.margin.bottom\n\n  // 3. Draw Canvas\n  const vbWidth = 975\n  const vbHeight = 610\n  const wrapper = d3\n    .select(\"#wrapper\")\n    .append(\"svg\")\n    .attr(\"width\", dimensions.width)\n    .attr(\"height\", dimensions.height)\n    .attr(\"viewBox\", [0, 0, vbWidth, vbHeight])\n    .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n    .style(\"background-color\", \"#112739\")\n  const bounds = wrapper\n    .append(\"g\")\n    .attr(\"id\", \"bounds\")\n    .style(\n      \"transform\",\n      `translate(${dimensions.margin.left}px, ${dimensions.margin.top}px)`\n    )\n\n  // 4. Create Scales\n\n  const tooltipXScale = d3\n    .scaleLinear()\n    .domain([0, vbWidth])\n    .range([0, dimensions.width])\n  const tooltipYScale = d3\n    .scaleLinear()\n    .domain([0, vbHeight])\n    .range([0, (vbHeight * dimensions.width) / vbWidth])\n\n  // 5. Draw Data\n\n  const states = bounds.append(\"g\")\n  states\n    .selectAll(\"path\")\n    .data(topojson.feature(usTopo, usTopo.objects.states).features)\n    .enter()\n    .append(\"path\")\n    .attr(\"fill\", \"palevioletred\")\n    .attr(\"d\", d3.geoPath())\n    .attr(\"stroke\", \"#112739\")\n    .attr(\"stroke-width\", \"0.15%\")\n\n  // 6. Draw Peripherals\n\n  // 7. Setup interactions\n  states\n    .selectAll(\"path\")\n    .on(\"mouseenter\", onMouseEnter)\n    .on(\"mouseleave\", onMouseLeave)\n\n  const tooltip = d3.select(\".tooltip\")\n  const stateName = d3.select(\".state-name\")\n  const covidDate = d3.select(\".covid-date\")\n  const stateCovidVals = d3.select(\".state-covid-values\")\n  function onMouseEnter(event, d) {\n    const [xPos, yPos] = d3.geoPath().centroid(d)\n    d3.select(this).style(\"fill\", \"papayawhip\")\n    stateName.text(stateNameAccessor(d))\n    covidDate.text(dateFormat(dateParser(stateCovidValsAccessor(d).date)))\n    stateCovidVals.html(`\n    <ul>\n      <li>Total Positive: ${formatInt(\n        stateCovidValsAccessor(d).positiveCasesViral\n      )}</li>\n      <li>Total Deaths: ${formatInt(\n        stateCovidValsAccessor(d).deathConfirmed\n      )} </li>\n      <li>New Positive: ${formatInt(\n        stateCovidValsAccessor(d).positiveIncrease\n      )}</li>\n      <li>New Deaths: ${formatInt(stateCovidValsAccessor(d).deathIncrease)}</li>\n    </ul>\n    `)\n    const tooltipHeight = tooltip.node().getBoundingClientRect().height\n    const tooltipWidth = tooltip.node().getBoundingClientRect().width\n    const scaledXPos = tooltipXScale(xPos)\n    const scaledYPos = tooltipXScale(yPos)\n    tooltip.style(\n      \"transform\",\n      `translate(${\n        scaledXPos < dimensions.width / 2\n          ? scaledXPos + tooltipWidth * 0.2\n          : scaledXPos - tooltipWidth * 1.2\n      }px, ${\n        scaledYPos < vbHeight * 0.4\n          ? scaledYPos\n          : scaledYPos - tooltipHeight * 1.2\n      }px)`\n    )\n    tooltip.style(\"opacity\", 1)\n  }\n  function onMouseLeave(event, d) {\n    d3.select(this).style(\"fill\", \"palevioletred\")\n    tooltip.style(\"opacity\", 0)\n  }\n  window.addEventListener(\"resize\", () => {\n    dimensions.width = window.innerWidth < 700 ? window.innerWidth * 0.9 : 700\n    dimensions.height = window.innerWidth * 0.7\n    wrapper.attr(\"width\", dimensions.width).attr(\"height\", dimensions.height)\n    tooltipXScale.range([0, dimensions.width])\n    tooltipYScale.range([0, (vbHeight * dimensions.width) / vbWidth])\n  })\n}\n\nexport default mapViz\n","import React, { useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport Layout from \"../components/layout\"\nimport mapViz from \"../components/mapViz\"\n\nconst StyledContainer = styled.div`\n  font-family: \"Neue Helvetica W02\", \"Helvetica Neue\", Helvetica, Arial,\n    sans-serif;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: #112739;\n  width: 100vw;\n  height: 100vmax;\n`\n\nconst StyledTooltip = styled.div`\n  opacity: 0;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-width: 5rem;\n  min-height: 3rem;\n  background-color: rgba(255, 255, 255, 0.9);\n  border: 1px solid grey;\n  pointer-events: none;\n  border-radius: 5px;\n  padding: 5px;\n  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.2);\n  transition: transform 300ms ease-in-out, opacity 100ms ease-in-out;\n  .state-name {\n    text-transform: uppercase;\n    font-size: 0.85rem;\n    margin-bottom: 5px;\n    font-weight: bold;\n  }\n  .state-covid-values,\n  .covid-date {\n    color: #5c5c5c;\n    font-size: 0.8rem;\n    ul {\n      margin: 0;\n      padding: 0;\n      list-style-type: none;\n    }\n    li {\n      margin: 2px 0px;\n    }\n  }\n`\nconst StyledHeading = styled.h1`\n  color: #fff;\n  font-weight: 200;\n  margin-bottom: 5px;\n  @media (max-width: 720px) {\n    font-size: 1.4rem;\n  }\n`\nconst StyledInfo = styled.p`\n  color: lightcoral;\n  margin: 0;\n`\nconst StyledCredit = styled.p`\n  color: #a0a0a0;\n  margin: 0;\n  a {\n    text-decoration: none;\n    color: #cfcfcf;\n    &:hover {\n      cursor: pointer;\n      color: #a1ecf7;\n    }\n  }\n`\nexport default function Map() {\n  useEffect(() => {\n    mapViz()\n  }, [])\n  return (\n    <Layout>\n      <StyledContainer>\n        <StyledHeading>Covid Cases In the US</StyledHeading>\n        <StyledInfo>\n          Hover / Click on a State to get the latest Covid info.\n        </StyledInfo>\n        <StyledCredit>\n          Covid data from\n          <a href=\"https://www.covidtracking.com/\"> covidtracking.com</a>\n        </StyledCredit>\n\n        <div id=\"wrapper\" style={{ marginTop: \"3rem\" }}>\n          <StyledTooltip className=\"tooltip\">\n            <div className=\"state-name\"></div>\n            <div className=\"covid-date\"></div>\n            <div className=\"state-covid-values\"></div>\n          </StyledTooltip>\n        </div>\n      </StyledContainer>\n    </Layout>\n  )\n}\n"],"sourceRoot":""}